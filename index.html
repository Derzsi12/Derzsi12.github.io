<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premier League Big 6 - Elite Strategic BI Dashboard</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #1e293b;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #60a5fa;
      --accent-2: #38bdf8;
      --ring: rgba(96, 165, 250, 0.35);
      --shadow: 0 10px 25px rgba(0,0,0,0.35);
      --red: #ef4444;
      --green: #22c55e;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% -10%, #1e293b 0%, #0b1220 40%, var(--bg) 100%),
                  linear-gradient(160deg, #0b1220 0%, #0f172a 100%);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      padding: 20px;
    }

    .container { max-width: 1400px; margin: 0 auto; }

    header { text-align: center; margin-bottom: 40px; padding: 30px 20px; }

    h1 {
      font-size: clamp(32px, 5vw, 48px);
      margin-bottom: 10px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -1px;
    }

    .subtitle { color: var(--muted); font-size: 18px; }

    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .chart-container {
      background: color-mix(in oklab, var(--panel), black 6%);
      border: 1px solid color-mix(in oklab, var(--panel), white 8%);
      border-radius: 16px;
      padding: 30px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .chart-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.45);
    }

    .chart-title { font-size: 24px; margin-bottom: 15px; color: var(--text); font-weight: 600; }
    .chart-description { color: var(--muted); margin-bottom: 25px; font-size: 14px; line-height: 1.6; }

    .chart-wrapper { position: relative; height: 400px; width: 100%; }
    .chart-wrapper.large { height: 500px; }

    .controls { margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
    select {
      background: var(--bg); color: var(--text); border: 1px solid var(--accent);
      padding: 10px 15px; border-radius: 8px; font-size: 14px; cursor: pointer; outline: none;
    }

    footer { text-align: center; padding: 30px 20px; color: var(--muted); font-size: 14px; margin-top: 40px; }

    @media (max-width: 768px) {
      .charts-grid { grid-template-columns: 1fr; }
      .chart-wrapper { height: 300px; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>Premier League Big 6</h1>
      <p class="subtitle">Advanced Strategic Business Intelligence Dashboard 2025-26</p>
    </header>

    <div class="charts-grid">
      <div class="chart-container">
        <h2 class="chart-title">Most Expensive Transfers (2025-26)</h2>
        <p class="chart-description">
          This donut chart displays the most expensive single transfer for each of the Big 6 teams during the 2025-26 season. 
          Hover over any segment to see the player's name and transfer fee. Liverpool leads with the highest transfer fee, 
          followed by Manchester United and Arsenal. This visualization highlights the peak individual investment per club.
        </p>
        <div class="chart-wrapper"><canvas id="donutChart"></canvas></div>
      </div>

      <div class="chart-container">
        <h2 class="chart-title">Transfer Window Spending vs Income (2025-26)</h2>
        <p class="chart-description">
          This grouped column chart compares the total spending (red bars) and income (green bars) for each team during 
          the 2025-26 transfer window. The chart reveals which teams had a net spending and which managed to balance 
          their finances effectively through strategic player sales and targeted acquisitions.
        </p>
        <div class="chart-wrapper large"><canvas id="columnChart"></canvas></div>
      </div>

      <div class="chart-container">
        <h2 class="chart-title">Total Spending Over 5 Years</h2>
        <p class="chart-description">
          This horizontal bar chart shows the cumulative spending of each Big 6 team over the past 5 years. 
          Manchester United and Arsenal have invested the most in player acquisitions, demonstrating their long-term 
          financial commitment to strengthening their squads and maintaining competitive dominance.
        </p>
        <div class="chart-wrapper large"><canvas id="barChart"></canvas></div>
      </div>

      <div class="chart-container">
        <h2 class="chart-title">Transfer Currency Volatility (Live API)</h2>
        <p class="chart-description">
          This line chart tracks the live exchange rate between the British Pound (GBP) and the Euro (EUR) using the Frankfurter API. 
          In professional football, where Big 6 clubs conduct transactions worth hundreds of millions, currency fluctuations 
          are a vital BI metric. A slight change in the exchange rate can significantly alter the final cost of an international transfer.
        </p>
        <div class="chart-wrapper"><canvas id="apiChart"></canvas></div>
      </div>

      <div class="chart-container">
        <h2 class="chart-title">Interactive Squad Technical Profile</h2>
        <div class="controls">
          <label for="teamSelect">Select Team Analysis:</label>
          <select id="teamSelect" onchange="updateRadarChart()">
            <option value="arsenal">Arsenal FC</option>
            <option value="city">Manchester City</option>
            <option value="liverpool">Liverpool FC</option>
            <option value="united">Manchester United</option>
            <option value="chelsea">Chelsea FC</option>
            <option value="spurs">Tottenham Hotspur</option>
          </select>
        </div>
        <p class="chart-description">
          This interactive radar chart provides a multi-dimensional analysis of team performance metrics. 
          Using realistic technical standards (70-95 scale), users can visualize tactical strengths in areas such as 
          Attack, Defense, Tactics, Physicality, and Creativity. This allows for an elite-level technical assessment.
        </p>
        <div class="chart-wrapper"><canvas id="radarChart"></canvas></div>
      </div>

      <div class="chart-container">
        <h2 class="chart-title">Big 6 Head-to-Head Mini League</h2>
        <p class="chart-description">
          This chart represents the "Big 6 Mini-League" standings, focusing exclusively on matches played between the six 
          top-tier clubs. By filtering only these high-pressure encounters, we identify which squad performs best against elite 
          rivals. The data is processed directly from a raw dataset using a Python analysis script.
        </p>
        <div class="chart-wrapper large"><canvas id="efficiencyChart"></canvas></div>
      </div>
    </div>

    <footer><p>© 2026 Premier League Big 6 BI | Elite Data Analysis Project</p></footer>
  </div>

  <script>
    // --- Chart 1: Donut ---
    new Chart(document.getElementById('donutChart'), {
      type: 'doughnut',
      data: {
        labels: ['Liverpool', 'Manchester City', 'Manchester United', 'Chelsea', 'Arsenal', 'Tottenham Hotspur'],
        datasets: [{
          data: [145, 54.9, 76.5, 63.7, 70, 65],
          backgroundColor: ['#ef4444', '#6ee7b7', '#fbbf24', '#3b82f6', '#ef4444', '#ffffff'],
          borderColor: '#1e293b', borderWidth: 3
        }]
      },
      options: {
        responsive: true, maintainAspectRatio: false,
        plugins: {
          legend: { position: 'bottom', labels: { color: '#e5e7eb' } },
          tooltip: {
            callbacks: {
              label: function(ctx) {
                const players = { 'Liverpool': 'Alexander Isak', 'Manchester City': 'Tijjani Reijnders', 'Manchester United': 'Benjamin Sesko', 'Chelsea': 'Joao Pedro', 'Arsenal': 'Martín Zubimendi', 'Tottenham Hotspur': 'Xavi Simons' };
                return `${players[ctx.label]}: ${ctx.parsed}M €`;
              }
            }
          }
        }
      }
    });

    // --- Chart 2: Grouped Column ---
    new Chart(document.getElementById('columnChart'), {
      type: 'bar',
      data: {
        labels: ['Liverpool', 'Chelsea', 'Arsenal', 'United', 'Spurs', 'City'],
        datasets: [
          { label: 'Spent (€)', data: [482.9, 339.15, 293.5, 250.7, 210.6, 206.8], backgroundColor: '#ef4444' },
          { label: 'Income (€)', data: [219.5, 332.25, 10.3, 74.2, 42.5, 70.5], backgroundColor: '#22c55e' }
        ]
      },
      options: {
        responsive: true, maintainAspectRatio: false,
        scales: {
          y: { ticks: { color: '#e5e7eb' }, grid: { color: 'rgba(255,255,255,0.1)' } },
          x: { ticks: { color: '#e5e7eb' } }
        }
      }
    });

    // --- Chart 3: Horizontal Bar ---
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['Manchester United', 'Arsenal', 'Chelsea', 'Tottenham Hotspur', 'Liverpool', 'Manchester City'],
        datasets: [{ label: 'Total Spending (€)', data: [782.92, 772.81, 757.11, 650.98, 487.85, 396.33], backgroundColor: ['#fbbf24', '#ef4444', '#3b82f6', '#ffffff', '#ef4444', '#6ee7b7'] }]
      },
      options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { ticks: { color: '#e5e7eb' } }, y: { ticks: { color: '#e5e7eb' } } } }
    });

    async function initBrandAPI() {
      const teams = [{ n:'Arsenal', w:'Arsenal_F.C.' }, { n:'City', w:'Manchester_City_F.C.' }, { n:'Liverpool', w:'Liverpool_F.C.' }, { n:'United', w:'Manchester_United_F.C.' }, { n:'Chelsea', w:'Chelsea_F.C.' }, { n:'Spurs', w:'Tottenham_Hotspur_F.C.' }];
      try {
        const date = "20260119";
        const reqs = teams.map(t => fetch(`https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/en.wikipedia/all-access/all-agents/${t.w}/daily/${date}/${date}`).then(r => r.json()));
        const res = await Promise.all(reqs);
        new Chart(document.getElementById('apiChart'), {
          type: 'polarArea',
          data: {
            labels: teams.map(t => t.n),
            datasets: [{ data: res.map(r => r.items[0].views), backgroundColor: ['rgba(239, 68, 68, 0.5)', 'rgba(110, 231, 183, 0.5)', 'rgba(239, 68, 68, 0.5)', 'rgba(251, 191, 36, 0.5)', 'rgba(59, 130, 246, 0.5)', 'rgba(255, 255, 255, 0.5)'] }]
          },
          options: { responsive: true, maintainAspectRatio: false, scales: { r: { grid: { color: '#475569' }, ticks: { display: false } } } }
        });
      } catch(e) { console.error(e); }
    }
    initBrandAPI();

    // --- Chart 5: Interactive Radar (Balanced Data) ---
    const squadData = { 
        arsenal: [90, 85, 94, 88, 86],
        city: [95, 84, 98, 92, 80],
        liverpool: [88, 90, 82, 95, 94],
        united: [84, 82, 80, 85, 88],
        chelsea: [80, 88, 78, 84, 86],
        spurs: [86, 78, 84, 86, 90]
    };
    let radar;
    function updateRadarChart() {
      const team = document.getElementById('teamSelect').value;
      if(radar) radar.destroy();
      radar = new Chart(document.getElementById('radarChart'), {
        type: 'radar',
        data: {
          labels: ['Attack', 'Defense', 'Tactics', 'Physicality', 'Creativity'],
          datasets: [{ label: team.toUpperCase() + ' Technical Profile', data: squadData[team], backgroundColor: 'rgba(96, 165, 250, 0.2)', borderColor: '#60a5fa' }]
        },
        options: { 
          responsive: true, maintainAspectRatio: false, 
          scales: { r: { grid: { color: '#475569' }, pointLabels: { color: '#e5e7eb' }, ticks: { display: false }, suggestedMin: 50, suggestedMax: 100 } } 
        }
      });
    }
    updateRadarChart();

    // --- Chart 6: Mini-League (Fetch from scraped_data.json) ---
    async function initMiniLeague() {
      try {
        const res = await fetch('scraped_data.json');
        const j = await res.json();
        const data = j.minileague;
        new Chart(document.getElementById('efficiencyChart'), {
          type: 'bar',
          data: {
            labels: data.map(d => d.team),
            datasets: [{ label: 'Head-to-Head Points', data: data.map(d => d.points), backgroundColor: '#60a5fa', borderRadius: 8 }]
          },
          options: {
            responsive: true, maintainAspectRatio: false,
            scales: {
              y: { beginAtZero: true, ticks: { color: '#e5e7eb' }, title: { display: true, text: 'Total Points', color: '#9ca3af' } },
              x: { ticks: { color: '#e5e7eb' } }
            },
            plugins: { legend: { display: false } }
          }
        });
      } catch(e) { console.warn("Waiting for scraped_data.json..."); }
    }
    initMiniLeague();
  </script>
</body>
</html>


